project/
│
├─ frontend/
│   ├─ components/
│   │   ├─ SearchBar.js
│   │   └─ WorkSteps.js
│   ├─ images/
│   │   ├─ prep_2D.png
│   │   ├─ box_2D.png
│   │   ├─ wiring_2D.png
│   │   ├─ fix_2D.png
│   │   └─ test_2D.png
│   ├─ models/
│   │   ├─ prep_3D.glb
│   │   ├─ box_3D.glb
│   │   ├─ wiring_3D.glb
│   │   ├─ fix_3D.glb
│   │   └─ test_3D.glb
│   └─ App.js
│
├─ backend/
│   ├─ server.js
│   └─ ai_estimator.js
│
├─ database/
│   └─ works.json
├─ package.json
└─ README.md

------------------------------------------------------------
# database/works.json
------------------------------------------------------------
{
  "works": [
    {
      "name": "Installation prise 4 voies",
      "description": "Installation complète d'une prise électrique 4 voies",
      "tools": ["Tournevis", "Pince coupante", "Gaine isolante", "Testeur de tension"],
      "materials": ["Boîte d'encastrement", "Prise 4 voies", "Câble électrique"],
      "cost_normal": 25,
      "cost_with_tools": 70,
      "steps": [
        {
          "title": "Préparation",
          "description": "Coupez le courant au niveau du disjoncteur principal. Mesurez l'emplacement de la prise et marquez-le sur le mur.",
          "image": "prep_2D.png",
          "3D_model": "prep_3D.glb"
        },
        {
          "title": "Installation de la boîte d'encastrement",
          "description": "Percez le mur et insérez la boîte. Vérifiez qu'elle est bien alignée et stable.",
          "image": "box_2D.png",
          "3D_model": "box_3D.glb"
        },
        {
          "title": "Câblage",
          "description": "Branchez les fils électriques selon le code couleur : bleu neutre, rouge phase, vert/jaune terre. Utilisez le testeur pour vérifier la continuité.",
          "image": "wiring_2D.png",
          "3D_model": "wiring_3D.glb"
        },
        {
          "title": "Fixation de la prise",
          "description": "Fixez la prise dans la boîte avec les vis fournies. Vérifiez que le câblage est correctement positionné et que rien ne touche la structure métallique.",
          "image": "fix_2D.png",
          "3D_model": "fix_3D.glb"
        },
        {
          "title": "Test final",
          "description": "Remettez le courant, testez la prise avec un appareil électrique. Assurez-vous que toutes les prises fonctionnent et qu'aucun fil n'est exposé.",
          "image": "test_2D.png",
          "3D_model": "test_3D.glb"
        }
      ]
    }
  ]
}

------------------------------------------------------------
# backend/ai_estimator.js
------------------------------------------------------------
const works = require('../database/works.json');

function estimateWork(workName, hasTools = true) {
  const work = works.works.find(w => w.name.toLowerCase() === workName.toLowerCase());
  if (!work) return { error: "Travail non trouvé" };
  const cost = hasTools ? work.cost_normal : work.cost_with_tools;
  return {
    name: work.name,
    description: work.description,
    tools: work.tools,
    materials: work.materials,
    estimated_cost: cost,
    steps: work.steps
  };
}

module.exports = { estimateWork };

------------------------------------------------------------
# backend/server.js
------------------------------------------------------------
const express = require('express');
const bodyParser = require('body-parser');
const cors = require('cors');
const { estimateWork } = require('./ai_estimator');

const app = express();
app.use(bodyParser.json());
app.use(cors());

app.post('/estimate', (req, res) => {
  const { workName, hasTools } = req.body;
  const result = estimateWork(workName, hasTools);
  res.json(result);
});

app.listen(3000, () => console.log('Server running on port 3000'));

------------------------------------------------------------
# frontend/components/SearchBar.js
------------------------------------------------------------
import React, { useState } from 'react';

export default function SearchBar({ onSearch }) {
  const [query, setQuery] = useState('');
  return (
    <div>
      <input 
        type="text" 
        placeholder="Cherchez un travail..." 
        value={query} 
        onChange={(e) => setQuery(e.target.value)} 
      />
      <button onClick={() => onSearch(query)}>Rechercher</button>
    </div>
  );
}

------------------------------------------------------------
# frontend/components/WorkSteps.js
------------------------------------------------------------
import React, { useState } from 'react';

export default function WorkSteps({ work }) {
  const [currentStep, setCurrentStep] = useState(0);
  const step = work.steps[currentStep];

  return (
    <div>
      <h2>{step.title}</h2>
      <p>{step.description}</p>
      <img src={`./images/${step.image}`} alt={step.title} style={{ maxWidth: '400px' }} />
      <div style={{ width: '400px', height: '300px', background: '#eee', margin: '10px 0' }}>
        <p style={{ textAlign: 'center', paddingTop: '130px' }}>3D model: {step['3D_model']}</p>
      </div>
      <div>
        {currentStep > 0 && <button onClick={() => setCurrentStep(currentStep-1)}>Précédent</button>}
        {currentStep < work.steps.length-1 && <button onClick={() => setCurrentStep(currentStep+1)}>Suivant</button>}
      </div>
    </div>
  );
}

------------------------------------------------------------
# frontend/App.js
------------------------------------------------------------
import React, { useState } from 'react';
import SearchBar from './components/SearchBar';
import WorkSteps from './components/WorkSteps';

export default function App() {
  const [work, setWork] = useState(null);

  const searchWork = async (workName) => {
    const res = await fetch('http://localhost:3000/estimate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ workName, hasTools: false })
    });
    const data = await res.json();
    setWork(data.error ? null : data);
  };

  return (
    <div style={{ padding: '20px' }}>
      <h1>Application Estimation de Travaux</h1>
      <SearchBar onSearch={searchWork} />
      {work && <WorkSteps work={work} />}
    </div>
  );
}
